<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

    <title>GIT Einführung & Nutzung im Hause REA Elektronik</title>

		<meta name="description" content="">
		<meta name="author" content="Dennis Sänger">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/simple.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">

        <section>
          <h1>Git (bei REA)</h1>
          <small>02.09.2015 - Dennis Sänger &lt;dsaenger@rea.de&gt;</small>
        </section>

				<section>
          <h2>Git ist..</h2>
				  <ul>
            <li>klein und schnell</li>
            <li>schnelles branching & merging</li>
            <li>opensource software</li>
            <li>hohe Datensicherheit</li>
          </ul>
        </section>

        <section>
          <section>
            <h2>Git ist..</h2>
            <p>verteiltes Versionskontrollsystem</p>
            <img src="assets/git-distributed-vcs.png" height="400" style="background: #fff" />
          </section>

          <section>
            <img class="no-print" src="assets/git-distributed-vcs.png" height="200" style="background: #fff" />
            <ul>
              <li>jedes Repo kann Server und Client sein</li>
              <li>jeder besitzt lokale Kopie des <i>gesamten</i> Repos</li>
              <li>fast alle git operation sind lokal</li>
              <li>clients/server verwaltet git in <code>remotes</code></li>
            </ul>
            <pre><code>~/c/firmware ❯❯❯ git remote -v                                                              feat/render-label-obj ✱ ◼
gerrit  ssh://172.16.26.50:29418/titan-firmware (fetch)
gerrit  ssh://172.16.26.50:29418/titan-firmware (push)
origin  ssh://git@rj-git.rea.de/titan-firmware.git (fetch)
origin  ssh://git@rj-git.rea.de/titan-firmware.git (push)</code></pre>
            <small><i>origin</i> ist das default-remote</small>
          </section>

        </section>

        <section>
          <section>
          <p><i>git</i> verwaltet 3+1 Ebenen des Repositories</p>
          <img src="assets/4-layers-2.png" style="background:#fff" height="450" />
          </section>

          <section>
            <p>git verwaltet 4 Status für Dateien</p>
            <ul>
              <li>untracked</li>
              <li>modified</li>
              <li>staged</li>
              <li>unmodified / commited</li>
            </ul>
          </section>
        </section>

        <section>
          <section>
          <h3>commits</h3>
          <p>
            <i>commit</i> ist <i>snapshot</i> des aktuellen Zustands eines Projekts
            <br />
            repository besteht aus netz von commits
          </p>
          <img src="assets/commits.png" style="" height="450" />
          </section>

          <section>
            <h3>commits</h3>
            <p>Jeder commit hat mindestens einen parent-commit</p>
            <img src="assets/commits.png" style="" height="450" />
          </section>

          <section>
            <h3>commits</h3>
            <p>
              Jeder commit hat einen eindeutigen content hash (sha1)
            </p>
            <pre><code>titan-web ❯❯❯ git show --pretty=full 15b867e                                                                                                                                                              ⏎ feat/render-label-obj ✭ ✱ ◼
commit 15b867e2039fabd0e48d0a2aeec11778826e3127
Author: Dennis Saenger &lt;dsaenger@rea.de&gt;
Commit: Dennis Saenger &lt;dsaenger@rea.de&gt;

    fix(nodedaemon): Starte nodedaemon mit relativem Pfad

    Es gibt Probleme beim automatischen auflösen von Dependencies wenn der
    nodedaemon mit einem absoluten Pfad gestartet wird.

diff --git a/titan-nodedaemon/debian/init.d b/titan-nodedaemon/debian/init.d
index beef61e..57cb393 100755
--- a/titan-nodedaemon/debian/init.d
+++ b/titan-nodedaemon/debian/init.d
...</code></pre>
            <small>hash = inhalt + meta-informationen</small>
          </section>

        </section>

        <section>
          <h2>Befehlsübersicht</h2>
        </section>

        <section>
          <h2>git repo erzeugen</h2>
          <p>über <i>clonen</i> eines vorhandenen repos:
            <pre><code>git clone ssh://git@rj-git.rea.de/titan-firmware.git</code></pre>
          <small>git unterstützt viele Protokolle: ssh, http(s), lokale Verzeichnisse, ..</small>
          </p>
          <p>oder durch erzeugen eines neuen repos:
            <pre><code>mkdir neues-projekt
cd neues-projekt
git init</code></pre>
          </p>
        </section>

        <section>
          <h2>add & commit</h2>
          <p><i>modified</i> Dateien zum Index hinzufügen:</p>
            <pre><code>git add path/to/file.txt
// ODER
git add -A .</code></pre>
          <p>Datein im Index commiten:</p>
            <pre><code>git commit</code></pre>
        </section>

        <section>
          <h2>push</h2>
          <p>Änderungen an ein remote schicken:</p>
            <pre><code>git push &lt;remote&gt; &lt;branch&gt;</code></pre>

          <p>Beispiele:</p>
            <pre><code>git push origin master
git push origin lokaler-branch-name:remote-branch-name
git push origin HEAD:remote-branch-name</code></pre>
        </section>

        <section>
          <h2>branching</h2>
          <pre><code>git branch [-a]            // anzeigen aller branches
git checkout -b branchName // neuen branch erstellen & auschecken
git checkout master        // in bestehenden branch wechseln
git branch -d branchName   // lokalen branch löschen
git push origin :branchName // remote branch löschen</code></pre>
          <p>branches sind nur Zeiger auf commits</p>

        </section>

        <section>
          <h2>fetch & pull</h2>
          <pre><code>git fetch                     // lokales Repo aktualisieren
git merge another/branch      // Änderungen in aktuellen Branch holen
git rebase another/branch     // Änderngen in aktuellen Branch holen

git pull                      // = git fetch und git merge
git pull --rebase             // = git fetch und git rebase</code></pre>
          <p>Bei REA arbeiten wir immer mit <i>rebase</i>!</p>
        </section>

        <section>
          <h2>Änderungen rückgängig machen</h2>
          <pre><code>git checkout -- path/to/file.txt // lokale Änderungen Rückgängig machen
git clean                 // untracked files entfernen
git reset --soft &lt;hash&gt;   // zurücksetzen, Änderungen im Index
git reset [--mixed] &lt;hash&gt;// zurücksetzen, Änderungen nicht im Index
git reset --hard &lt;hash&gt;   // aktuellen Stand komplett zurücksetzen
</code></pre>

        </section>

        <section>
          <h2>diff</h2>
          <pre><code>git diff file.txt                 // diff zwischen working copy & index
git diff --cached [hash] file.txt // diff zwischen index und hash
git diff master..origin/master    // diff zwischen branches</code></pre>
        </section>

        <section>
          <h2>log & grep</h2>
          <pre><code>git log
git log origin/master
git log [&lt;branch&gt;] path/to/file.txt
git log hash1..hash2
git log --grep=foo // durchsucht commit message
git log -Gfoo      // durchsucht commit diff
git log --grep='[fF]ix(es)? #' --perl-regexp</code></pre>
          <pre><code>git grep foo</code></pre>

        </section>

        <section>
          <h2>.gitignore</h2>
          <pre><code>❯❯❯ cat .gitignore                                                         feat/render-label-obj ✭ ✱ ◼
.DS_Store
*.log

build/**
node_modules/**</code></pre>
        </section>

        <section>
          <section>
            <h2>submodule</h2>
            <p>andere git projekte in vorhandenes git projekt einbinden</p>
            <p class="fragment" data-fragment-index="0">submodule sind eigenständige git Repos mit eigenen commits, history, branches, ..</p>
            <p class="fragment" data-fragment-index="1">Hauptmodul verweist auf hash des submoduls</p>
          </section>

          <section>
            <h2>submodule</h2>
            <pre><code>git submodule add ssh://git@rj-git.rea.de/titan-web.git titan-web
git submodule update [--init]   // submodule auf aktuellen Stand bringen</code></pre>

            <p>nützlich:</p>
            <pre><code>git ls tree &lt;hash&gt; &lt;path&gt;</code></pre>

            <pre><code>firmware ❯❯❯ git ls-tree build/2926 titan-web                                                                                                                                                    feat/render-label-obj ✱ ◼
commit dd34152f99ca57dfb0d5983de01081bb475c6075  titan-web</code></pre>

            <pre><code>firmware ❯❯❯ git ls-tree HEAD titan-web                                                                                                                                                                         feat/render-label-obj ✱ ◼
commit ae2b0b2b79b920aea70ba5e5ac9806880b60e7ff  titan-web</code></pre>
          </section>
        </section>

        <section>
          <h1>Demo</h1>
          <a href="http://pcottle.github.io/learnGitBranching/?NODEMO">http://pcottle.github.io/learnGitBranching/?NODEMO</a>

          <!--
           - fast-forward merge
           - rebase & merge
           - interactive rebase
          -->
        </section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
